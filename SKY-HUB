-- Speed & Jump Hack Menu
local Player = game:GetService("Players").LocalPlayer
local UserInputService = game:GetService("UserInputService")

-- Создаем GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui

-- Основное меню (слева по центру, без перетаскивания)
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 250, 0, 380)
MainFrame.Position = UDim2.new(0, 20, 0.5, -190)
MainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
MainFrame.Parent = ScreenGui
MainFrame.Active = false
MainFrame.Draggable = false

-- Закругление углов
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- Контейнер с прокруткой
local ScrollFrame = Instance.new("ScrollingFrame")
ScrollFrame.Size = UDim2.new(1, 0, 1, 0)
ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 500)
ScrollFrame.ScrollBarThickness = 6
ScrollFrame.BackgroundTransparency = 1
ScrollFrame.Parent = MainFrame

-- === SpeedHack Section ===
local SpeedTitle = Instance.new("TextLabel")
SpeedTitle.Size = UDim2.new(0.9, 0, 0, 30)
SpeedTitle.Position = UDim2.new(0.05, 0, 0, 5)
SpeedTitle.BackgroundTransparency = 1
SpeedTitle.Text = "SPEEDHACK"
SpeedTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedTitle.Font = Enum.Font.GothamBold
SpeedTitle.TextSize = 18
SpeedTitle.Parent = ScrollFrame

local SpeedBox = Instance.new("TextBox")
SpeedBox.Size = UDim2.new(0.88, 0, 0, 30)
SpeedBox.Position = UDim2.new(0.06, 0, 0, 40)
SpeedBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
SpeedBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedBox.Text = "16"
SpeedBox.PlaceholderText = "Enter speed"
SpeedBox.Parent = ScrollFrame

local ApplySpeedButton = Instance.new("TextButton")
ApplySpeedButton.Size = UDim2.new(0.88, 0, 0, 30)
ApplySpeedButton.Position = UDim2.new(0.06, 0, 0, 75)
ApplySpeedButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ApplySpeedButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ApplySpeedButton.Text = "APPLY SPEED"
ApplySpeedButton.Font = Enum.Font.GothamBold
ApplySpeedButton.TextSize = 14
ApplySpeedButton.Parent = ScrollFrame

local ToggleSpeedButton = Instance.new("TextButton")
ToggleSpeedButton.Size = UDim2.new(0.88, 0, 0, 30)
ToggleSpeedButton.Position = UDim2.new(0.06, 0, 0, 110)
ToggleSpeedButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ToggleSpeedButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleSpeedButton.Text = "DISABLE (16)"
ToggleSpeedButton.Font = Enum.Font.GothamBold
ToggleSpeedButton.TextSize = 14
ToggleSpeedButton.Parent = ScrollFrame

-- === JumpPower Section ===
local Divider1 = Instance.new("Frame")
Divider1.Size = UDim2.new(0.9, 0, 0, 1)
Divider1.Position = UDim2.new(0.05, 0, 0, 150)
Divider1.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
Divider1.Parent = ScrollFrame

local JumpTitle = Instance.new("TextLabel")
JumpTitle.Size = UDim2.new(0.9, 0, 0, 30)
JumpTitle.Position = UDim2.new(0.05, 0, 0, 160)
JumpTitle.BackgroundTransparency = 1
JumpTitle.Text = "JUMP POWER"
JumpTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
JumpTitle.Font = Enum.Font.GothamBold
JumpTitle.TextSize = 18
JumpTitle.Parent = ScrollFrame

local JumpBox = Instance.new("TextBox")
JumpBox.Size = UDim2.new(0.88, 0, 0, 30)
JumpBox.Position = UDim2.new(0.06, 0, 0, 195)
JumpBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
JumpBox.TextColor3 = Color3.fromRGB(255, 255, 255)
JumpBox.Text = "50"
JumpBox.PlaceholderText = "Enter jump power"
JumpBox.Parent = ScrollFrame

local ApplyJumpButton = Instance.new("TextButton")
ApplyJumpButton.Size = UDim2.new(0.88, 0, 0, 30)
ApplyJumpButton.Position = UDim2.new(0.06, 0, 0, 230)
ApplyJumpButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ApplyJumpButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ApplyJumpButton.Text = "APPLY JUMP"
ApplyJumpButton.Font = Enum.Font.GothamBold
ApplyJumpButton.TextSize = 14
ApplyJumpButton.Parent = ScrollFrame

local ToggleJumpButton = Instance.new("TextButton")
ToggleJumpButton.Size = UDim2.new(0.88, 0, 0, 30)
ToggleJumpButton.Position = UDim2.new(0.06, 0, 0, 265)
ToggleJumpButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ToggleJumpButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleJumpButton.Text = "DISABLE (50)"
ToggleJumpButton.Font = Enum.Font.GothamBold
ToggleJumpButton.TextSize = 14
ToggleJumpButton.Parent = ScrollFrame

-- === Extra Jump Section ===
local Divider2 = Instance.new("Frame")
Divider2.Size = UDim2.new(0.9, 0, 0, 1)
Divider2.Position = UDim2.new(0.05, 0, 0, 305)
Divider2.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
Divider2.Parent = ScrollFrame

local ExtraJumpTitle = Instance.new("TextLabel")
ExtraJumpTitle.Size = UDim2.new(0.9, 0, 0, 30)
ExtraJumpTitle.Position = UDim2.new(0.05, 0, 0, 315)
ExtraJumpTitle.BackgroundTransparency = 1
ExtraJumpTitle.Text = "EXTRA JUMPS"
ExtraJumpTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
ExtraJumpTitle.Font = Enum.Font.GothamBold
ExtraJumpTitle.TextSize = 18
ExtraJumpTitle.Parent = ScrollFrame

local ExtraJumpBox = Instance.new("TextBox")
ExtraJumpBox.Size = UDim2.new(0.88, 0, 0, 30)
ExtraJumpBox.Position = UDim2.new(0.06, 0, 0, 350)
ExtraJumpBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ExtraJumpBox.TextColor3 = Color3.fromRGB(255, 255, 255)
ExtraJumpBox.Text = "1"
ExtraJumpBox.PlaceholderText = "Extra jumps count"
ExtraJumpBox.Parent = ScrollFrame

local ApplyExtraJumpButton = Instance.new("TextButton")
ApplyExtraJumpButton.Size = UDim2.new(0.88, 0, 0, 30)
ApplyExtraJumpButton.Position = UDim2.new(0.06, 0, 0, 385)
ApplyExtraJumpButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ApplyExtraJumpButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ApplyExtraJumpButton.Text = "APPLY EXTRA JUMPS"
ApplyExtraJumpButton.Font = Enum.Font.GothamBold
ApplyExtraJumpButton.TextSize = 14
ApplyExtraJumpButton.Parent = ScrollFrame

local ToggleExtraJumpButton = Instance.new("TextButton")
ToggleExtraJumpButton.Size = UDim2.new(0.88, 0, 0, 30)
ToggleExtraJumpButton.Position = UDim2.new(0.06, 0, 0, 420)
ToggleExtraJumpButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ToggleExtraJumpButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleExtraJumpButton.Text = "DISABLE (1)"
ToggleExtraJumpButton.Font = Enum.Font.GothamBold
ToggleExtraJumpButton.TextSize = 14
ToggleExtraJumpButton.Parent = ScrollFrame

-- Hint
local Hint = Instance.new("TextLabel")
Hint.Size = UDim2.new(0.9, 0, 0, 20)
Hint.Position = UDim2.new(0.05, 0, 0, 460)
Hint.BackgroundTransparency = 1
Hint.Text = "CTRL TO TOGGLE MENU"
Hint.TextColor3 = Color3.fromRGB(150, 150, 150)
Hint.Font = Enum.Font.Gotham
Hint.TextSize = 12
Hint.Parent = ScrollFrame

-- Логика
local originalSpeed = 16
local speedEnabled = true
local originalJump = 50
local jumpEnabled = true
local extraJumps = 1
local extraJumpsEnabled = true
local remainingJumps = 0
local isJumping = false

-- Обновление скорости
local function updateSpeed()
    if Player.Character and Player.Character:FindFirstChildOfClass("Humanoid") then
        Player.Character.Humanoid.WalkSpeed = speedEnabled and originalSpeed or 16
        ToggleSpeedButton.Text = (speedEnabled and "DISABLE (" or "ENABLE (")..originalSpeed..")"
    end
end

-- Обновление прыжка
local function updateJump()
    if Player.Character and Player.Character:FindFirstChildOfClass("Humanoid") then
        Player.Character.Humanoid.JumpPower = jumpEnabled and originalJump or 50
        ToggleJumpButton.Text = (jumpEnabled and "DISABLE (" or "ENABLE (")..originalJump..")"
    end
end

-- Обработчик дополнительных прыжков
local function onJumpRequest()
    if not extraJumpsEnabled or not Player.Character then return end
    
    local humanoid = Player.Character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end
    
    if not humanoid:GetState() == Enum.HumanoidStateType.Jumping then
        remainingJumps = extraJumps
        isJumping = false
        return
    end
    
    if isJumping and remainingJumps > 0 then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        remainingJumps = remainingJumps - 1
    end
    
    isJumping = true
end

-- Обновление дополнительных прыжков
local function updateExtraJumps()
    ToggleExtraJumpButton.Text = (extraJumpsEnabled and "DISABLE (" or "ENABLE (")..extraJumps..")"
end

-- Кнопки
ApplySpeedButton.MouseButton1Click:Connect(function()
    local newSpeed = tonumber(SpeedBox.Text)
    if newSpeed and newSpeed > 0 then
        originalSpeed = newSpeed
        updateSpeed()
    else
        SpeedBox.Text = "INVALID"
        task.wait(1)
        SpeedBox.Text = tostring(originalSpeed)
    end
end)

ToggleSpeedButton.MouseButton1Click:Connect(function()
    speedEnabled = not speedEnabled
    updateSpeed()
end)

ApplyJumpButton.MouseButton1Click:Connect(function()
    local newJump = tonumber(JumpBox.Text)
    if newJump and newJump > 0 then
        originalJump = newJump
        updateJump()
    else
        JumpBox.Text = "INVALID"
        task.wait(1)
        JumpBox.Text = tostring(originalJump)
    end
end)

ToggleJumpButton.MouseButton1Click:Connect(function()
    jumpEnabled = not jumpEnabled
    updateJump()
end)

ApplyExtraJumpButton.MouseButton1Click:Connect(function()
    local newExtra = tonumber(ExtraJumpBox.Text)
    if newExtra and newExtra >= 0 then
        extraJumps = newExtra
        updateExtraJumps()
    else
        ExtraJumpBox.Text = "INVALID"
        task.wait(1)
        ExtraJumpBox.Text = tostring(extraJumps)
    end
end)

ToggleExtraJumpButton.MouseButton1Click:Connect(function()
    extraJumpsEnabled = not extraJumpsEnabled
    updateExtraJumps()
end)

-- Подключение обработчика прыжков
UserInputService.JumpRequest:Connect(onJumpRequest)

-- Переключение меню
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.LeftControl then
        MainFrame.Visible = not MainFrame.Visible
    end
end)

-- При смене персонажа
Player.CharacterAdded:Connect(function(character)
    task.wait(0.5)
    updateSpeed()
    updateJump()
    updateExtraJumps()
end)

-- Инициализация
updateSpeed()
updateJump()
updateExtraJumps()
