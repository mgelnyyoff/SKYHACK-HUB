-- Speed & Jump Hack Menu with SwimHack, Noclip, GodMode and HP Changer
local Player = game:GetService("Players").LocalPlayer
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Создаем GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui

-- Основное меню
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 250, 0, 600)
MainFrame.Position = UDim2.new(0, 20, 0.5, -300)
MainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
MainFrame.Parent = ScreenGui
MainFrame.Active = false
MainFrame.Draggable = false

-- Закругление углов
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- Контейнер с прокруткой
local ScrollFrame = Instance.new("ScrollingFrame")
ScrollFrame.Size = UDim2.new(1, 0, 1, 0)
ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 950)
ScrollFrame.ScrollBarThickness = 6
ScrollFrame.BackgroundTransparency = 1
ScrollFrame.Parent = MainFrame

-- === SpeedHack Section ===
local SpeedTitle = Instance.new("TextLabel")
SpeedTitle.Size = UDim2.new(0.9, 0, 0, 30)
SpeedTitle.Position = UDim2.new(0.05, 0, 0, 5)
SpeedTitle.BackgroundTransparency = 1
SpeedTitle.Text = "SPEEDHACK"
SpeedTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedTitle.Font = Enum.Font.GothamBold
SpeedTitle.TextSize = 18
SpeedTitle.Parent = ScrollFrame

local SpeedBox = Instance.new("TextBox")
SpeedBox.Size = UDim2.new(0.88, 0, 0, 30)
SpeedBox.Position = UDim2.new(0.06, 0, 0, 40)
SpeedBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
SpeedBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedBox.Text = "16"
SpeedBox.PlaceholderText = "Enter speed"
SpeedBox.Parent = ScrollFrame

local ApplySpeedButton = Instance.new("TextButton")
ApplySpeedButton.Size = UDim2.new(0.88, 0, 0, 30)
ApplySpeedButton.Position = UDim2.new(0.06, 0, 0, 75)
ApplySpeedButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ApplySpeedButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ApplySpeedButton.Text = "APPLY SPEED"
ApplySpeedButton.Font = Enum.Font.GothamBold
ApplySpeedButton.TextSize = 14
ApplySpeedButton.Parent = ScrollFrame

local ToggleSpeedButton = Instance.new("TextButton")
ToggleSpeedButton.Size = UDim2.new(0.88, 0, 0, 30)
ToggleSpeedButton.Position = UDim2.new(0.06, 0, 0, 110)
ToggleSpeedButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ToggleSpeedButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleSpeedButton.Text = "DISABLE (16)"
ToggleSpeedButton.Font = Enum.Font.GothamBold
ToggleSpeedButton.TextSize = 14
ToggleSpeedButton.Parent = ScrollFrame

-- === JumpPower Section ===
local Divider1 = Instance.new("Frame")
Divider1.Size = UDim2.new(0.9, 0, 0, 1)
Divider1.Position = UDim2.new(0.05, 0, 0, 150)
Divider1.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
Divider1.Parent = ScrollFrame

local JumpTitle = Instance.new("TextLabel")
JumpTitle.Size = UDim2.new(0.9, 0, 0, 30)
JumpTitle.Position = UDim2.new(0.05, 0, 0, 160)
JumpTitle.BackgroundTransparency = 1
JumpTitle.Text = "JUMP POWER"
JumpTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
JumpTitle.Font = Enum.Font.GothamBold
JumpTitle.TextSize = 18
JumpTitle.Parent = ScrollFrame

local JumpBox = Instance.new("TextBox")
JumpBox.Size = UDim2.new(0.88, 0, 0, 30)
JumpBox.Position = UDim2.new(0.06, 0, 0, 195)
JumpBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
JumpBox.TextColor3 = Color3.fromRGB(255, 255, 255)
JumpBox.Text = "50"
JumpBox.PlaceholderText = "Enter jump power"
JumpBox.Parent = ScrollFrame

local ApplyJumpButton = Instance.new("TextButton")
ApplyJumpButton.Size = UDim2.new(0.88, 0, 0, 30)
ApplyJumpButton.Position = UDim2.new(0.06, 0, 0, 230)
ApplyJumpButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ApplyJumpButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ApplyJumpButton.Text = "APPLY JUMP"
ApplyJumpButton.Font = Enum.Font.GothamBold
ApplyJumpButton.TextSize = 14
ApplyJumpButton.Parent = ScrollFrame

local ToggleJumpButton = Instance.new("TextButton")
ToggleJumpButton.Size = UDim2.new(0.88, 0, 0, 30)
ToggleJumpButton.Position = UDim2.new(0.06, 0, 0, 265)
ToggleJumpButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ToggleJumpButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleJumpButton.Text = "DISABLE (50)"
ToggleJumpButton.Font = Enum.Font.GothamBold
ToggleJumpButton.TextSize = 14
ToggleJumpButton.Parent = ScrollFrame

-- === SwimHack Section ===
local Divider2 = Instance.new("Frame")
Divider2.Size = UDim2.new(0.9, 0, 0, 1)
Divider2.Position = UDim2.new(0.05, 0, 0, 305)
Divider2.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
Divider2.Parent = ScrollFrame

local SwimTitle = Instance.new("TextLabel")
SwimTitle.Size = UDim2.new(0.9, 0, 0, 30)
SwimTitle.Position = UDim2.new(0.05, 0, 0, 315)
SwimTitle.BackgroundTransparency = 1
SwimTitle.Text = "SWIMHACK"
SwimTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
SwimTitle.Font = Enum.Font.GothamBold
SwimTitle.TextSize = 18
SwimTitle.Parent = ScrollFrame

local SwimSpeedBox = Instance.new("TextBox")
SwimSpeedBox.Size = UDim2.new(0.88, 0, 0, 30)
SwimSpeedBox.Position = UDim2.new(0.06, 0, 0, 350)
SwimSpeedBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
SwimSpeedBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SwimSpeedBox.Text = "25"
SwimSpeedBox.PlaceholderText = "Swim speed"
SwimSpeedBox.Parent = ScrollFrame

local ApplySwimSpeedButton = Instance.new("TextButton")
ApplySwimSpeedButton.Size = UDim2.new(0.88, 0, 0, 30)
ApplySwimSpeedButton.Position = UDim2.new(0.06, 0, 0, 385)
ApplySwimSpeedButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ApplySwimSpeedButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ApplySwimSpeedButton.Text = "APPLY SWIM SPEED"
ApplySwimSpeedButton.Font = Enum.Font.GothamBold
ApplySwimSpeedButton.TextSize = 14
ApplySwimSpeedButton.Parent = ScrollFrame

local ToggleSwimButton = Instance.new("TextButton")
ToggleSwimButton.Size = UDim2.new(0.88, 0, 0, 30)
ToggleSwimButton.Position = UDim2.new(0.06, 0, 0, 420)
ToggleSwimButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ToggleSwimButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleSwimButton.Text = "DISABLED"
ToggleSwimButton.Font = Enum.Font.GothamBold
ToggleSwimButton.TextSize = 14
ToggleSwimButton.Parent = ScrollFrame

-- === Noclip Section ===
local Divider3 = Instance.new("Frame")
Divider3.Size = UDim2.new(0.9, 0, 0, 1)
Divider3.Position = UDim2.new(0.05, 0, 0, 460)
Divider3.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
Divider3.Parent = ScrollFrame

local NoclipTitle = Instance.new("TextLabel")
NoclipTitle.Size = UDim2.new(0.9, 0, 0, 30)
NoclipTitle.Position = UDim2.new(0.05, 0, 0, 470)
NoclipTitle.BackgroundTransparency = 1
NoclipTitle.Text = "NOCLIP"
NoclipTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
NoclipTitle.Font = Enum.Font.GothamBold
NoclipTitle.TextSize = 18
NoclipTitle.Parent = ScrollFrame

local ToggleNoclipButton = Instance.new("TextButton")
ToggleNoclipButton.Size = UDim2.new(0.88, 0, 0, 30)
ToggleNoclipButton.Position = UDim2.new(0.06, 0, 0, 505)
ToggleNoclipButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ToggleNoclipButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleNoclipButton.Text = "DISABLED"
ToggleNoclipButton.Font = Enum.Font.GothamBold
ToggleNoclipButton.TextSize = 14
ToggleNoclipButton.Parent = ScrollFrame

-- === GodMode Section ===
local Divider4 = Instance.new("Frame")
Divider4.Size = UDim2.new(0.9, 0, 0, 1)
Divider4.Position = UDim2.new(0.05, 0, 0, 545)
Divider4.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
Divider4.Parent = ScrollFrame

local GodModeTitle = Instance.new("TextLabel")
GodModeTitle.Size = UDim2.new(0.9, 0, 0, 30)
GodModeTitle.Position = UDim2.new(0.05, 0, 0, 555)
GodModeTitle.BackgroundTransparency = 1
GodModeTitle.Text = "GODMODE"
GodModeTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
GodModeTitle.Font = Enum.Font.GothamBold
GodModeTitle.TextSize = 18
GodModeTitle.Parent = ScrollFrame

local ToggleGodModeButton = Instance.new("TextButton")
ToggleGodModeButton.Size = UDim2.new(0.88, 0, 0, 30)
ToggleGodModeButton.Position = UDim2.new(0.06, 0, 0, 590)
ToggleGodModeButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ToggleGodModeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleGodModeButton.Text = "DISABLED"
ToggleGodModeButton.Font = Enum.Font.GothamBold
ToggleGodModeButton.TextSize = 14
ToggleGodModeButton.Parent = ScrollFrame

-- Добавляем подпись под GodMode
local GodModeHint = Instance.new("TextLabel")
GodModeHint.Size = UDim2.new(0.88, 0, 0, 20)
GodModeHint.Position = UDim2.new(0.06, 0, 0, 625)
GodModeHint.BackgroundTransparency = 1
GodModeHint.Text = "if godmode dont work or else"
GodModeHint.TextColor3 = Color3.fromRGB(150, 150, 150)
GodModeHint.Font = Enum.Font.Gotham
GodModeHint.TextSize = 12
GodModeHint.TextXAlignment = Enum.TextXAlignment.Left
GodModeHint.Parent = ScrollFrame

-- Добавляем раздел для изменения HP
local ChangeHPTitle = Instance.new("TextLabel")
ChangeHPTitle.Size = UDim2.new(0.9, 0, 0, 30)
ChangeHPTitle.Position = UDim2.new(0.05, 0, 0, 650)
ChangeHPTitle.BackgroundTransparency = 1
ChangeHPTitle.Text = "CHANGE HP"
ChangeHPTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
ChangeHPTitle.Font = Enum.Font.GothamBold
ChangeHPTitle.TextSize = 16
ChangeHPTitle.Parent = ScrollFrame

local HPBox = Instance.new("TextBox")
HPBox.Size = UDim2.new(0.88, 0, 0, 30)
HPBox.Position = UDim2.new(0.06, 0, 0, 685)
HPBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
HPBox.TextColor3 = Color3.fromRGB(255, 255, 255)
HPBox.Text = "100"
HPBox.PlaceholderText = "Enter HP value"
HPBox.Parent = ScrollFrame

local ApplyHPButton = Instance.new("TextButton")
ApplyHPButton.Size = UDim2.new(0.88, 0, 0, 30)
ApplyHPButton.Position = UDim2.new(0.06, 0, 0, 720)
ApplyHPButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
ApplyHPButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ApplyHPButton.Text = "APPLY HP"
ApplyHPButton.Font = Enum.Font.GothamBold
ApplyHPButton.TextSize = 14
ApplyHPButton.Parent = ScrollFrame

-- Hint
local Hint = Instance.new("TextLabel")
Hint.Size = UDim2.new(0.9, 0, 0, 20)
Hint.Position = UDim2.new(0.05, 0, 0, 760)
Hint.BackgroundTransparency = 1
Hint.Text = "CTRL TO TOGGLE MENU"
Hint.TextColor3 = Color3.fromRGB(150, 150, 150)
Hint.Font = Enum.Font.Gotham
Hint.TextSize = 12
Hint.Parent = ScrollFrame

-- Логика
local originalSpeed = 16
local speedEnabled = true
local originalJump = 50
local jumpEnabled = true
local swimSpeed = 25
local swimEnabled = false
local noclipEnabled = false
local godModeEnabled = false
local bodyVelocity, swimForce, swimDamping
local noclipConnection

-- Обновление скорости
local function updateSpeed()
    if Player.Character and Player.Character:FindFirstChildOfClass("Humanoid") then
        Player.Character.Humanoid.WalkSpeed = speedEnabled and originalSpeed or 16
        ToggleSpeedButton.Text = (speedEnabled and "DISABLE (" or "ENABLE (")..originalSpeed..")"
    end
end

-- Обновление прыжка
local function updateJump()
    if Player.Character and Player.Character:FindFirstChildOfClass("Humanoid") then
        Player.Character.Humanoid.JumpPower = jumpEnabled and originalJump or 50
        ToggleJumpButton.Text = (jumpEnabled and "DISABLE (" or "ENABLE (")..originalJump..")"
    end
end

-- Логика плавания
local function updateSwimming()
    if not swimEnabled or not Player.Character then return end
    
    local rootPart = Player.Character:FindFirstChild("HumanoidRootPart")
    if not rootPart or not bodyVelocity then return end
    
    local camCFrame = workspace.CurrentCamera.CFrame
    local moveDirection = Vector3.new()
    
    if UserInputService:IsKeyDown(Enum.KeyCode.W) then
        moveDirection = moveDirection + camCFrame.LookVector
    end
    if UserInputService:IsKeyDown(Enum.KeyCode.S) then
        moveDirection = moveDirection - camCFrame.LookVector
    end
    if UserInputService:IsKeyDown(Enum.KeyCode.D) then
        moveDirection = moveDirection + camCFrame.RightVector
    end
    if UserInputService:IsKeyDown(Enum.KeyCode.A) then
        moveDirection = moveDirection - camCFrame.RightVector
    end
    
    -- Медленное вертикальное движение для имитации плавания
    if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
        moveDirection = moveDirection + Vector3.new(0, 0.5, 0)
    end
    if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then
        moveDirection = moveDirection - Vector3.new(0, 0.5, 0)
    end
    
    if moveDirection.Magnitude > 0 then
        moveDirection = moveDirection.Unit * swimSpeed * 0.7
    end
    
    bodyVelocity.Velocity = moveDirection
    
    -- Имитация сопротивления воды
    rootPart.Velocity = rootPart.Velocity * 0.9
end

local function toggleSwimming()
    swimEnabled = not swimEnabled
    local character = Player.Character
    if not character then return end
    
    if swimEnabled then
        -- Создаем эффект плавания
        bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
        bodyVelocity.Velocity = Vector3.new(0, 0, 0)
        bodyVelocity.P = 1250
        
        -- Добавляем плавучесть (имитация воды)
        swimForce = Instance.new("BodyForce")
        swimForce.Name = "SwimForce"
        swimForce.Force = Vector3.new(0, character:GetMass() * workspace.Gravity * 0.8, 0)
        
        -- Добавляем демпфирование (сопротивление воды)
        swimDamping = Instance.new("BodyAngularVelocity")
        swimDamping.Name = "SwimDamping"
        swimDamping.MaxTorque = Vector3.new(4000, 4000, 4000)
        swimDamping.AngularVelocity = Vector3.new(0, 0, 0)
        swimDamping.P = 500
        
        local rootPart = character:FindFirstChild("HumanoidRootPart") or character:WaitForChild("HumanoidRootPart")
        bodyVelocity.Parent = rootPart
        swimForce.Parent = rootPart
        swimDamping.Parent = rootPart
        
        -- Изменяем состояние Humanoid для плавания
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
            humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
            humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
        end
        
        RunService:BindToRenderStep("SwimUpdate", Enum.RenderPriority.Input.Value, updateSwimming)
        
        ToggleSwimButton.Text = "ENABLED"
    else
        if bodyVelocity then bodyVelocity:Destroy() end
        if swimForce then swimForce:Destroy() end
        if swimDamping then swimDamping:Destroy() end
        
        local rootPart = character:FindFirstChild("HumanoidRootPart")
        if rootPart then
            for _, v in ipairs(rootPart:GetChildren()) do
                if v.Name == "SwimForce" or v.Name == "SwimDamping" then
                    v:Destroy()
                end
            end
        end
        
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, true)
            humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, true)
            humanoid:ChangeState(Enum.HumanoidStateType.Running)
        end
        
        RunService:UnbindFromRenderStep("SwimUpdate")
        ToggleSwimButton.Text = "DISABLED"
    end
end

-- Логика Noclip
local function noclipLoop()
    if noclipEnabled and Player.Character then
        for _, part in ipairs(Player.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end

-- Функция для изменения HP
local function changeHP()
    local newHP = tonumber(HPBox.Text)
    if newHP and newHP > 0 and Player.Character then
        local humanoid = Player.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.MaxHealth = newHP
            humanoid.Health = newHP
        end
    else
        HPBox.Text = "INVALID"
        task.wait(1)
        HPBox.Text = "100"
    end
end

-- Логика GodMode
local function toggleGodMode()
    godModeEnabled = not godModeEnabled
    if Player.Character then
        local humanoid = Player.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            if godModeEnabled then
                humanoid.MaxHealth = math.huge
                humanoid.Health = math.huge
            else
                local targetHP = tonumber(HPBox.Text) or 100
                humanoid.MaxHealth = targetHP
                humanoid.Health = targetHP
            end
        end
    end
    ToggleGodModeButton.Text = godModeEnabled and "ENABLED" or "DISABLED"
end

local function toggleNoclip()
    noclipEnabled = not noclipEnabled
    ToggleNoclipButton.Text = noclipEnabled and "ENABLED" or "DISABLED"
    
    if noclipEnabled then
        if not noclipConnection then
            noclipConnection = RunService.Stepped:Connect(noclipLoop)
        end
    else
        if noclipConnection then
            noclipConnection:Disconnect()
            noclipConnection = nil
        end
        if Player.Character then
            for _, part in ipairs(Player.Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
end

-- Кнопки
ApplySpeedButton.MouseButton1Click:Connect(function()
    local newSpeed = tonumber(SpeedBox.Text)
    if newSpeed and newSpeed > 0 then
        originalSpeed = newSpeed
        updateSpeed()
    else
        SpeedBox.Text = "INVALID"
        task.wait(1)
        SpeedBox.Text = tostring(originalSpeed)
    end
end)

ToggleSpeedButton.MouseButton1Click:Connect(function()
    speedEnabled = not speedEnabled
    updateSpeed()
end)

ApplyJumpButton.MouseButton1Click:Connect(function()
    local newJump = tonumber(JumpBox.Text)
    if newJump and newJump > 0 then
        originalJump = newJump
        updateJump()
    else
        JumpBox.Text = "INVALID"
        task.wait(1)
        JumpBox.Text = tostring(originalJump)
    end
end)

ToggleJumpButton.MouseButton1Click:Connect(function()
    jumpEnabled = not jumpEnabled
    updateJump()
end)

ApplySwimSpeedButton.MouseButton1Click:Connect(function()
    local newSpeed = tonumber(SwimSpeedBox.Text)
    if newSpeed and newSpeed > 0 then
        swimSpeed = newSpeed
    else
        SwimSpeedBox.Text = "INVALID"
        task.wait(1)
        SwimSpeedBox.Text = tostring(swimSpeed)
    end
end)

ToggleSwimButton.MouseButton1Click:Connect(toggleSwimming)
ToggleNoclipButton.MouseButton1Click:Connect(toggleNoclip)
ToggleGodModeButton.MouseButton1Click:Connect(toggleGodMode)
ApplyHPButton.MouseButton1Click:Connect(changeHP)

-- Переключение меню
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.LeftControl then
        MainFrame.Visible = not MainFrame.Visible
    end
end)

-- При смене персонажа
Player.CharacterAdded:Connect(function(character)
    task.wait(0.5)
    updateSpeed()
    updateJump()
    if swimEnabled then
        toggleSwimming()
        toggleSwimming()
    end
    if noclipEnabled then
        toggleNoclip()
        toggleNoclip()
    end
    if godModeEnabled then
        toggleGodMode()
        toggleGodMode()
    end
    changeHP()
end)

-- Инициализация
updateSpeed()
updateJump()
